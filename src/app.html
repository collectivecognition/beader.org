<template>
  <require from="./styles.css"></require>

  <header class="navbar">
    <div class="logo">beader</div>

    <div class="menu-left">
      <a href="/#">Pattern Gallery</a>
      <a route-href="route: designer" class="new-pattern">New Pattern</a>
      <span if.bind="isAuthenticated">
        <a route-href="route: patternsByUser; params.bind: {id: user._id}">My Patterns</a>
      </span>
    </div>

    <div class="menu-right">
      <a if.bind="!isAuthenticated" click.delegate="authenticate('google')">Sign in with Google</a>
      <span if.bind="isAuthenticated">
        <span class="label">Welcome ${user.displayName}</span>
        <a click.trigger="logout()">Log Out</a>
      </span>
    </div>
  </header>
  <router-view class="container"></router-view>

  <script>
    Userback = window.Userback || {};
    Userback.access_token = '689|778|tciHxRGPtH5vgszSx50VHA7INGqIM38ggrYNjECNlHjCaSvIYw';

    (function(id) {
        if (document.getElementById(id)) {return;}
        var s = document.createElement('script');
        s.id = id;
        s.src = 'https://static.userback.io/widget/v1.js';
        var parent_node = document.head || document.body;
        parent_node.appendChild(s);
    })('userback-sdk');
  </script>
</template>
