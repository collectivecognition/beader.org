{"ast":null,"code":"import store from 'store';\nimport { apiPath } from './config';\n\nfunction get(path) {\n  return performRequest('get', path, null);\n}\n\nfunction post(path, body) {\n  return performRequest('post', path, body);\n}\n\nfunction del(path) {\n  return performRequest('delete', path);\n}\n\nfunction performRequest(method, path, body) {\n  var json = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var token = store.get('token');\n  var params = {\n    method: method,\n    headers: new Headers({\n      'Authorization': \"Bearer \".concat(token),\n      'Content-Type': 'application/json'\n    })\n  };\n\n  if (body) {\n    params.body = JSON.stringify(body);\n  }\n\n  return window.fetch(\"\".concat(apiPath).concat(path), params).then(function (response) {\n    return json ? response.json() : response;\n  });\n}\n\nexport default {\n  get: get,\n  post: post,\n  del: del\n};","map":{"version":3,"sources":["/Users/will/Documents/beader.org/react/src/api.js"],"names":["store","apiPath","get","path","performRequest","post","body","del","method","json","token","params","headers","Headers","JSON","stringify","window","fetch","then","response"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,OAAT,QAAwB,UAAxB;;AAEA,SAASC,GAAT,CAAaC,IAAb,EAAmB;AACjB,SAAOC,cAAc,CAAC,KAAD,EAAQD,IAAR,EAAc,IAAd,CAArB;AACD;;AAED,SAASE,IAAT,CAAcF,IAAd,EAAoBG,IAApB,EAA0B;AACxB,SAAOF,cAAc,CAAC,MAAD,EAASD,IAAT,EAAeG,IAAf,CAArB;AACD;;AAED,SAASC,GAAT,CAAaJ,IAAb,EAAmB;AACjB,SAAOC,cAAc,CAAC,QAAD,EAAWD,IAAX,CAArB;AACD;;AAED,SAASC,cAAT,CAAwBI,MAAxB,EAAgCL,IAAhC,EAAsCG,IAAtC,EAAyD;AAAA,MAAbG,IAAa,uEAAN,IAAM;AACvD,MAAMC,KAAK,GAAGV,KAAK,CAACE,GAAN,CAAU,OAAV,CAAd;AACA,MAAMS,MAAM,GAAG;AACbH,IAAAA,MAAM,EAANA,MADa;AAEbI,IAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACnB,wCAA2BH,KAA3B,CADmB;AAEnB,sBAAiB;AAFE,KAAZ;AAFI,GAAf;;AAQA,MAAIJ,IAAJ,EAAU;AACRK,IAAAA,MAAM,CAACL,IAAP,GAAcQ,IAAI,CAACC,SAAL,CAAeT,IAAf,CAAd;AACD;;AAED,SAAOU,MAAM,CAACC,KAAP,WAAgBhB,OAAhB,SAA0BE,IAA1B,GAAkCQ,MAAlC,EACJO,IADI,CACC,UAAAC,QAAQ;AAAA,WAAIV,IAAI,GAAGU,QAAQ,CAACV,IAAT,EAAH,GAAqBU,QAA7B;AAAA,GADT,CAAP;AAED;;AAED,eAAe;AACXjB,EAAAA,GAAG,EAAHA,GADW;AAEXG,EAAAA,IAAI,EAAJA,IAFW;AAGXE,EAAAA,GAAG,EAAHA;AAHW,CAAf","sourcesContent":["import store from 'store';\n\nimport { apiPath } from './config';\n\nfunction get(path) {\n  return performRequest('get', path, null);\n}\n\nfunction post(path, body) {\n  return performRequest('post', path, body);\n}\n\nfunction del(path) {\n  return performRequest('delete', path);\n}\n\nfunction performRequest(method, path, body, json = true) {\n  const token = store.get('token');\n  const params = {\n    method,\n    headers: new Headers({\n      'Authorization': `Bearer ${token}`,\n      'Content-Type' : 'application/json',\n    }),\n  };\n\n  if (body) {\n    params.body = JSON.stringify(body);\n  }\n\n  return window.fetch(`${apiPath}${path}`, params)\n    .then(response => json ? response.json() : response);\n}\n\nexport default {\n    get,\n    post,\n    del\n};"]},"metadata":{},"sourceType":"module"}