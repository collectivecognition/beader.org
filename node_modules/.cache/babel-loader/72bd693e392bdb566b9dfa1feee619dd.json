{"ast":null,"code":"import store from 'store';\nimport { apiPath } from './config';\n\nfunction get(path) {\n  return performRequest('get', path, null);\n}\n\nfunction post(path, body) {\n  return performRequest('post', path, body);\n}\n\nfunction del(path) {\n  return performRequest('delete', path);\n}\n\nfunction performRequest(method, path, body) {\n  var token = store.get('token');\n  var params = {\n    method: method,\n    headers: new Headers({\n      'Authorization': \"Bearer \".concat(token),\n      'Content-Type': 'application/json'\n    })\n  };\n\n  if (body) {\n    params.body = JSON.stringify(body);\n  }\n\n  return window.fetch(\"\".concat(apiPath).concat(path), params).then(function (response) {\n    return response.json();\n  });\n}\n\nexport default {\n  get: get,\n  post: post,\n  del: del\n};","map":{"version":3,"sources":["/Users/will/Documents/beader.org/react/src/api.js"],"names":["store","apiPath","get","path","performRequest","post","body","del","method","token","params","headers","Headers","JSON","stringify","window","fetch","then","response","json"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,OAAT,QAAwB,UAAxB;;AAEA,SAASC,GAAT,CAAaC,IAAb,EAAmB;AACjB,SAAOC,cAAc,CAAC,KAAD,EAAQD,IAAR,EAAc,IAAd,CAArB;AACD;;AAED,SAASE,IAAT,CAAcF,IAAd,EAAoBG,IAApB,EAA0B;AACxB,SAAOF,cAAc,CAAC,MAAD,EAASD,IAAT,EAAeG,IAAf,CAArB;AACD;;AAED,SAASC,GAAT,CAAaJ,IAAb,EAAmB;AACjB,SAAOC,cAAc,CAAC,QAAD,EAAWD,IAAX,CAArB;AACD;;AAED,SAASC,cAAT,CAAwBI,MAAxB,EAAgCL,IAAhC,EAAsCG,IAAtC,EAA4C;AAC1C,MAAMG,KAAK,GAAGT,KAAK,CAACE,GAAN,CAAU,OAAV,CAAd;AACA,MAAMQ,MAAM,GAAG;AACbF,IAAAA,MAAM,EAANA,MADa;AAEbG,IAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACnB,wCAA2BH,KAA3B,CADmB;AAEnB,sBAAiB;AAFE,KAAZ;AAFI,GAAf;;AAQA,MAAIH,IAAJ,EAAU;AACRI,IAAAA,MAAM,CAACJ,IAAP,GAAcO,IAAI,CAACC,SAAL,CAAeR,IAAf,CAAd;AACD;;AAED,SAAOS,MAAM,CAACC,KAAP,WAAgBf,OAAhB,SAA0BE,IAA1B,GAAkCO,MAAlC,EACJO,IADI,CACC,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GADT,CAAP;AAED;;AAED,eAAe;AACXjB,EAAAA,GAAG,EAAHA,GADW;AAEXG,EAAAA,IAAI,EAAJA,IAFW;AAGXE,EAAAA,GAAG,EAAHA;AAHW,CAAf","sourcesContent":["import store from 'store';\n\nimport { apiPath } from './config';\n\nfunction get(path) {\n  return performRequest('get', path, null);\n}\n\nfunction post(path, body) {\n  return performRequest('post', path, body);\n}\n\nfunction del(path) {\n  return performRequest('delete', path);\n}\n\nfunction performRequest(method, path, body) {\n  const token = store.get('token');\n  const params = {\n    method,\n    headers: new Headers({\n      'Authorization': `Bearer ${token}`,\n      'Content-Type' : 'application/json',\n    }),\n  };\n\n  if (body) {\n    params.body = JSON.stringify(body);\n  }\n\n  return window.fetch(`${apiPath}${path}`, params)\n    .then(response => response.json());\n}\n\nexport default {\n    get,\n    post,\n    del\n};"]},"metadata":{},"sourceType":"module"}