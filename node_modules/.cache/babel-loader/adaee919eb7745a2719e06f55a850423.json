{"ast":null,"code":"import _classCallCheck from \"/Users/will/Documents/beader.org/react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/will/Documents/beader.org/react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/will/Documents/beader.org/react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/will/Documents/beader.org/react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/will/Documents/beader.org/react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/will/Documents/beader.org/react/src/components/PatternsByUser.js\";\nimport { queryString } from 'query-string';\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { get } from '../api';\nimport { UserContext } from '../App';\nimport LoadingIndicator from './LoadingIndicator';\n\nvar PatternsByUser =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PatternsByUser, _Component);\n\n  function PatternsByUser() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PatternsByUser);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PatternsByUser)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.limit = 20;\n    _this.state = {\n      patterns: [],\n      page: 1,\n      showNext: false,\n      showPrevious: false,\n      loading: true\n    };\n    return _this;\n  }\n\n  _createClass(PatternsByUser, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetch();\n    }\n  }, {\n    key: \"fetch\",\n    value: function fetch() {\n      var _this2 = this;\n\n      var query = queryString.parse(this.props.location.search);\n      var page = query.page ? parseInt(query.page, 10) : 1;\n      this.setState({\n        loading: true\n      });\n      get(\"/patterns/user/\".concat(this.props.match.params.id, \"?page=\").concat(page, \"&limit=\").concat(this.limit)).then(function (patterns) {\n        _this2.setState({\n          patterns: patterns\n        }); // TODO: Set page title\n\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          loading = _this$state.loading,\n          patterns = _this$state.patterns,\n          showNext = _this$state.showNext,\n          showPrevious = _this$state.showPrevious;\n      return React.createElement(UserContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, function (user) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, loading ? React.createElement(LoadingIndicator, {\n          loading: loading,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }) : React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, patterns.length && React.createElement(\"div\", {\n          className: \"pattern-tiles-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          className: \"pattern-tiles-container-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, \"Patterns By \", patterns[0].user.displayName), patterns.map(function (pattern) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: \"/pattern/\".concat(pattern._id),\n            className: \"pattern-tile\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: pattern.imageUrl.replace('/upload', '/upload/c_thumb,w_150,h_150'),\n            alt: pattern.name,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"pattern-tile-name\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          }, pattern.name), React.createElement(\"div\", {\n            className: \"pattern-tile-user\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          }, \"by \", pattern.user.displayName)));\n        })), !patterns.length && React.createElement(\"div\", {\n          className: \"not-found\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, \"No patterns found\"), React.createElement(\"div\", {\n          className: \"pagination footer-navigation\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, showPrevious && React.createElement(Link, {\n          to: \"/patterns/user/\".concat(_this3.props.match.id, \"?page=\").concat(page - 1),\n          className: \"footer-link previous\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, \"Previous Page\"), showNext && React.createElement(Link, {\n          to: \"/patterns/user/\".concat(_this3.props.match.id, \"?page=\").concat(page + 1),\n          className: \"footer-link previous\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, \"Next Page\"))));\n      });\n    }\n  }]);\n\n  return PatternsByUser;\n}(Component);\n\nexport default Pattern;","map":{"version":3,"sources":["/Users/will/Documents/beader.org/react/src/components/PatternsByUser.js"],"names":["queryString","React","Component","Link","get","UserContext","LoadingIndicator","PatternsByUser","limit","state","patterns","page","showNext","showPrevious","loading","fetch","query","parse","props","location","search","parseInt","setState","match","params","id","then","user","length","displayName","map","pattern","_id","imageUrl","replace","name","Pattern"],"mappings":"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","sourcesContent":["import { queryString } from 'query-string';\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { get } from '../api';\nimport { UserContext } from '../App';\n\nimport LoadingIndicator from './LoadingIndicator';\n\nclass PatternsByUser extends Component {\n  limit = 20;\n\n  state = {\n    patterns:[],\n    page: 1,\n    showNext: false,\n    showPrevious: false,\n    loading: true,\n  };\n\n  componentDidMount() {\n    this.fetch();\n  }\n\n  fetch() {\n    const query = queryString.parse(this.props.location.search);\n    const page = query.page ? parseInt(query.page, 10) : 1;\n\n    this.setState({loading: true});\n\n    get(`/patterns/user/${this.props.match.params.id}?page=${page}&limit=${this.limit}`)\n      .then(patterns => {\n        this.setState({patterns});\n        // TODO: Set page title\n      });\n  }\n\n  render() {\n    const { loading, patterns, showNext, showPrevious } = this.state;\n\n    return (\n        <UserContext.Consumer>{user =>\n          <div>\n            {loading ? <LoadingIndicator loading={loading}></LoadingIndicator> :\n              <div>\n                {patterns.length &&\n                  <div className='pattern-tiles-container'>\n                    <h3 className='pattern-tiles-container-header'>Patterns By {patterns[0].user.displayName}</h3>\n                    {patterns.map(pattern =>\n                      <div>\n                        <Link to={`/pattern/${pattern._id}`} className='pattern-tile'>\n                          <img src={pattern.imageUrl.replace('/upload', '/upload/c_thumb,w_150,h_150')} alt={pattern.name} />\n                          <div className='pattern-tile-name'>{pattern.name}</div>\n                          <div className='pattern-tile-user'>by {pattern.user.displayName}</div>\n                          </Link>\n                      </div>\n                    )}\n                  </div>\n                }\n\n                {!patterns.length &&\n                  <div className='not-found'>No patterns found</div>\n                }\n\n                <div className='pagination footer-navigation'>\n                  {showPrevious &&\n                    <Link to={`/patterns/user/${this.props.match.id}?page=${page - 1}`} className='footer-link previous'>Previous Page</Link>\n                  }\n                  {showNext &&\n                    <Link to={`/patterns/user/${this.props.match.id}?page=${page + 1}`} className='footer-link previous'>Next Page</Link>\n                  }\n                </div>\n              </div>\n            }\n          </div>\n        }</UserContext.Consumer>\n    );\n  }\n}\n\nexport default Pattern;\n"]},"metadata":{},"sourceType":"module"}