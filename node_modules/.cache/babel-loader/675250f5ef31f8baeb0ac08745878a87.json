{"ast":null,"code":"import _classCallCheck from \"/Users/will/Documents/beader.org/react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/will/Documents/beader.org/react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/will/Documents/beader.org/react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/will/Documents/beader.org/react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/will/Documents/beader.org/react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/will/Documents/beader.org/react/src/components/PatternsByUser.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { get } from '../api';\nimport { UserContext } from '../App';\nimport LoadingIndicator from './LoadingIndicator';\n\nvar PatternsByUser =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PatternsByUser, _Component);\n\n  function PatternsByUser() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PatternsByUser);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PatternsByUser)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      patterns: [],\n      page: 1,\n      limit: 20,\n      showNext: false,\n      showPrevious: false,\n      loading: true\n    };\n    return _this;\n  }\n\n  _createClass(PatternsByUser, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetch();\n    }\n  }, {\n    key: \"fetch\",\n    value: function fetch() {\n      var _this2 = this;\n\n      this.setState({\n        loading: true\n      });\n      get(\"/patterns/\".concat(this.props.match.params.id)).then(function (pattern) {\n        _this2.setState({\n          pattern: pattern\n        }); // TODO: Set page title\n\n\n        _this2.fetchUserPatterns(pattern.user._id);\n      }).catch(function (err) {\n        _this2.setState({\n          errorMessage: 'Pattern not found.'\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          loading = _this$state.loading,\n          patterns = _this$state.patterns,\n          showNext = _this$state.showNext,\n          showPrevious = _this$state.showPrevious;\n      return React.createElement(UserContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, function (user) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, loading ? React.createElement(LoadingIndicator, {\n          loading: loading,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }) : React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, patterns.length && React.createElement(\"div\", {\n          className: \"pattern-tiles-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          className: \"pattern-tiles-container-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, \"Patterns By \", patterns[0].user.displayName), patterns.map(function (pattern) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: \"/pattern/\".concat(pattern._id),\n            className: \"pattern-tile\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: pattern.imageUrl.replace('/upload', '/upload/c_thumb,w_150,h_150'),\n            alt: pattern.name,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"pattern-tile-name\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }, pattern.name), React.createElement(\"div\", {\n            className: \"pattern-tile-user\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          }, \"by \", pattern.user.displayName)));\n        })), !patterns.length && React.createElement(\"div\", {\n          className: \"not-found\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, \"No patterns found\"), React.createElement(\"div\", {\n          className: \"pagination footer-navigation\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, showPrevious && React.createElement(Link, {\n          to: \"/patterns/user/\".concat(_this3.props.match.id, \"?page=\").concat(page - 1),\n          className: \"footer-link previous\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, \"Previous Page\"), showNext && React.createElement(Link, {\n          to: \"/patterns/user/\".concat(_this3.props.match.id, \"?page=\").concat(page + 1),\n          className: \"footer-link previous\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, \"Next Page\"))));\n      });\n    }\n  }]);\n\n  return PatternsByUser;\n}(Component);\n\nexport default Pattern;","map":{"version":3,"sources":["/Users/will/Documents/beader.org/react/src/components/PatternsByUser.js"],"names":["React","Component","Link","get","UserContext","LoadingIndicator","PatternsByUser","state","patterns","page","limit","showNext","showPrevious","loading","fetch","setState","props","match","params","id","then","pattern","fetchUserPatterns","user","_id","catch","err","errorMessage","length","displayName","map","imageUrl","replace","name","Pattern"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { get } from '../api';\nimport { UserContext } from '../App';\n\nimport LoadingIndicator from './LoadingIndicator';\n\nclass PatternsByUser extends Component {\n  state = {\n    patterns:[],\n    page: 1,\n    limit: 20,\n    showNext: false,\n    showPrevious: false,\n    loading: true,\n  };\n\n  componentDidMount() {\n    this.fetch();\n  }\n\n  fetch() {\n    this.setState({loading: true});\n\n    get(`/patterns/${this.props.match.params.id}`)\n      .then(pattern => {\n        this.setState({pattern});\n        // TODO: Set page title\n        this.fetchUserPatterns(pattern.user._id);\n      })\n      .catch(err => {\n        this.setState({errorMessage: 'Pattern not found.'});\n      });\n  }\n\n  render() {\n    const { loading, patterns, showNext, showPrevious } = this.state;\n\n    return (\n        <UserContext.Consumer>{user =>\n          <div>\n            {loading ? <LoadingIndicator loading={loading}></LoadingIndicator> :\n              <div>\n                {patterns.length &&\n                  <div className='pattern-tiles-container'>\n                    <h3 className='pattern-tiles-container-header'>Patterns By {patterns[0].user.displayName}</h3>\n                    {patterns.map(pattern =>\n                      <div>\n                        <Link to={`/pattern/${pattern._id}`} className='pattern-tile'>\n                          <img src={pattern.imageUrl.replace('/upload', '/upload/c_thumb,w_150,h_150')} alt={pattern.name} />\n                          <div className='pattern-tile-name'>{pattern.name}</div>\n                          <div className='pattern-tile-user'>by {pattern.user.displayName}</div>\n                          </Link>\n                      </div>\n                    )}\n                  </div>\n                }\n\n                {!patterns.length &&\n                  <div className='not-found'>No patterns found</div>\n                }\n\n                <div className='pagination footer-navigation'>\n                  {showPrevious &&\n                    <Link to={`/patterns/user/${this.props.match.id}?page=${page - 1}`} className='footer-link previous'>Previous Page</Link>\n                  }\n                  {showNext &&\n                    <Link to={`/patterns/user/${this.props.match.id}?page=${page + 1}`} className='footer-link previous'>Next Page</Link>\n                  }\n                </div>\n              </div>\n            }\n          </div>\n        }</UserContext.Consumer>\n    );\n  }\n}\n\nexport default Pattern;\n"]},"metadata":{},"sourceType":"module"}